From d626177a4917d35d1c81a0f99d481c641742dc7b Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Bernhard=20K=C3=B6lbl?= <besentv@gmail.com>
Date: Thu, 6 Jan 2022 18:05:56 +0100
Subject: [PATCH 02/24] include/windows.foundation.idl: Add IAsyncAction
 interface.

---
v2: Add missing required interface. Supersedes #223674
---
 include/windows.foundation.idl | 24 ++++++++++++++++++++++++
 1 file changed, 24 insertions(+)

diff --git a/include/windows.foundation.idl b/include/windows.foundation.idl
index 292522f2c49..a4ee7303ddb 100644
--- a/include/windows.foundation.idl
+++ b/include/windows.foundation.idl
@@ -27,6 +27,12 @@ import "windowscontracts.idl";
 /* import "ivectorchangedeventargs.idl"; */
 import "windows.foundation.collections.idl";
 
+namespace Windows {
+    namespace Foundation {
+        interface IAsyncAction;
+    }
+}
+
 namespace Windows {
     namespace Foundation {
         typedef enum PropertyType PropertyType;
@@ -36,6 +42,12 @@ namespace Windows {
         typedef struct DateTime DateTime;
         typedef struct TimeSpan TimeSpan;
 
+        [
+            contract(Windows.Foundation.FoundationContract, 1.0),
+            uuid(a4ed5c81-76c9-40bd-8be6-b1d90fb20ae7)
+        ]
+        delegate HRESULT AsyncActionCompletedHandler([in] Windows.Foundation.IAsyncAction *action, [in] AsyncStatus status);
+
         [contract(Windows.Foundation.FoundationContract, 1.0)]
         enum PropertyType {
             Empty       = 0,
@@ -128,6 +140,18 @@ namespace Windows {
         {
             HRESULT Close();
         }
+
+        [
+            contract(Windows.Foundation.FoundationContract, 1.0),
+            uuid(5a648006-843a-4da9-865b-9d26e5dfad7b)
+        ]
+        interface IAsyncAction : IInspectable
+            requires IAsyncInfo
+        {
+            [propput] HRESULT Completed([in] Windows.Foundation.AsyncActionCompletedHandler *handler);
+            [propget] HRESULT Completed([out, retval] Windows.Foundation.AsyncActionCompletedHandler **handler);
+            HRESULT GetResults();
+        }
     }
 }
 
-- 
2.34.1

